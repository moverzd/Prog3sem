# Курсовая работа по Qt: Update #3

## Требования

| Компонент                | Версия            |
|--------------------------|-------------------|
| **Qt Framework**         | 6.8.0 или выше    |
| **Компиляторы**          | Clang/GCC/MSVC    |
| **Операционные системы** | macOS/Linux       |

## Установка и сборка

1. **Скачайте репозиторий** в любую директорию на вашем устройстве.
2. **Сгенерируйте Makefile**:
    ```bash
    qmake ../update-3-qt/
    ```
3. **Сборка**:
    - На Linux/macOS:
        ```bash
        make
        ```
4. **Запуск приложения**:
    ```bash
    ./update-3-qt
    ```

## Что сделано

### База данных
- **Добавлена поддержка базы данных SQLite**:
    - Используется класс `QSqlDatabase` для подключения к базе данных.
    - Данные контактов сохраняются и загружаются из таблицы `contacts` в SQLite.

### Класс `ContactManager`
- Реализованы методы работы с базой данных:
    - **`LoadFromDB(const QString &connectionName)`**:
        - Устанавливает соединение с базой данных SQLite.
        - Загружает данные из таблицы `contacts` и добавляет их в коллекцию.
        - Создаёт таблицу, если она отсутствует.
    - **`SaveToDB(const QString &connectionName)`**:
        - Сохраняет текущие данные из коллекции в базу данных.
        - Перед сохранением таблица очищается.

### Интерфейс приложения
- **Обновлён `mainwindow.ui`**:
    - Добавлены кнопки:
        - `Save To DB` (сохранение данных в базу).
        - `Load From DB` (загрузка данных из базы).
- **Слоты**:
    - **`on_pushButtonLoadDB_clicked()`**:
        - Открывает диалог выбора файла базы данных и загружает данные из SQLite.
    - **`on_pushButtonSaveDB_clicked()`**:
        - Открывает диалог для выбора места сохранения базы данных и записывает данные в SQLite.
- **Таблица контактов**:
    - Используется `QSortFilterProxyModel` для сортировки и фильтрации данных.
    - Поддерживается сортировка по всем столбцам.

### Валидация данных
- Регулярные выражения для проверки корректности данных:
    - **Имя**: только буквы, дефисы и пробелы.
    - **Телефон**: поддержка различных форматов (например, `+7(812)123-45-67`).
    - **Дата рождения**: формат `ДД-ММ-ГГГГ` с проверкой на високосные годы.

### Логика работы
- **Добавление контактов**:
    - Открывается `ContactDialog` для ввода данных.
    - После успешного ввода данные добавляются в базу данных или коллекцию.
- **Редактирование контактов**:
    - Пользователь выбирает строку и может изменить данные через `ContactDialog`.
- **Удаление контактов**:
    - Выбранная строка удаляется из таблицы и базы данных.

