# Курсовая работа по Qt: Update #2

## Требования

| Компонент                | Версия            |
|--------------------------|-------------------|
| **Qt Framework**         | 6.8.0 или выше    |
| **Компиляторы**          | Clang/GCC/MSVC    |
| **Операционные системы** | macOS/Linux       |

## Установка и сборка

1. **Скачайте репозиторий** в любую директорию на вашем устройстве.
2. **Сгенерируйте Makefile**:
    ```bash
    qmake ../update-2-qt/
    ```
3. **Сборка**:
    - На Linux/macOS:
        ```bash
        make
        ```
4. **Запуск приложения**:
    ```bash
    ./update-2-qt
    ```

## Что сделано

- **Contact.h/Contact.cpp** и **ContactManager.h/ContactManager.cpp** остались без изменений по сравнению с Update #1.
- **Добавлен класс `ContactDialog`**:
    - Отвечает за диалоговое окно, используемое для добавления и редактирования контактов в приложении.
- **Файлы `mainwindow.h` и `mainwindow.cpp`** обновлены.
- **.ui файлы** добавлены и обновлены.
- **Сортировка таблицы**:
    - В конструкторе `MainWindow` активируется сортировка через `setSortingEnabled()`, позволяя пользователю сортировать таблицу по клику на заголовки столбцов.
    - Используется `QSortFilterProxyModel`, которая оборачивает исходную модель `QStandardItemModel`, предоставляя возможности сортировки и фильтрации.
    - **Логика работы**:
        - Пользователь кликает по заголовку столбца.
        - `QSortFilterProxyModel` автоматически сортирует данные в этом столбце.
- **Поиск**:
    - Используется `QLineEdit` для ввода текста для фильтрации.
    - Сигнал `textChanged` подключен к слоту `on_lineEditSearch_textChanged`.
    - Метод `setFilterFixedString` устанавливает строку фильтрации для поиска.
    - Прокси-модель автоматически фильтрует строки таблицы.
    - Прокси-модель фильтрует данные в конкретной колонке, задаваемой через `setFilterKeyColumn`.
    - Смена фильтруемой колонки настраивается через `QComboBox`.
    - **Логика работы**:
        - Ввод текста в поле `QLineEdit` → текст передается в `proxyModel`.
        - `proxyModel` обновляет таблицу, скрывая строки, не соответствующие фильтру.
        - Если текст пустой, отображаются все строки.

## Wiki

- **Сигнал** — уведомление о том, что произошло какое-то событие.
- **Слот** — функция, которая реагирует на сигнал и выполняет определенное действие.

### Пример

```cpp
void MainWindow:on_pushButtonAdd_clicked();
```
Когда пользователь нажимает кнопку Add, кнопка излучает сигнал `clicked()`. Метод `on_pushButtonAdd_clicked()` — это слот, подключенный к сигналу `clicked()`. Qt автоматически связывает сигналы и слоты, основываясь на их именах.

- **Прокси модель** - специальный класс, который оборачивает другую модель и предоставляет дополнительные возможности, такие как сортировка и фильтрация, без изменения самой исходной модели.

### Пример

```cpp
model = new QStandardItemModel(this); // Инициализация модели данных
proxyModel - new QSortFilterProxyModel(this); // Инициализация прокси модели для сортировки и фильтрации
```
- **Исходная модель** (`model`): `QStandardItemModel` хранит все данные в табличном виде
- **Прокси модель** (`proxyModel`): `QSortFilterProxyModel` оборачивает `model` и добавляет возможности сортировки и фильтрации
